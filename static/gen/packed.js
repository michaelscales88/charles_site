function loadAboutPage(api){$.ajax({url:api,dataType:"JSON",success:function(json,statusCode){if(statusCode==='success'){let aboutArea="";const aboutInfo=JSON.parse(json);for(const entry in aboutInfo){if(aboutInfo.hasOwnProperty(entry)){aboutArea+=`<div class="row-fluid"><div class="col-md-4"><img style="width: 100%;"src="/static/img/${aboutInfo[entry].path}"></div><div class="col-md-8"><h3>${aboutInfo[entry].title}</h3><p>${aboutInfo[entry].description}</p></div></div>`;}}
$("#aboutArea").html(`<h2>About Us</h2><div class="container-fluid">${aboutArea}</div>`);}}})}
function getTableDiv(api){return $.ajax({url:api,dataType:"JSON",success:function(json){let $tableDiv=$("#tableDiv");let $table='<table id="displayTable" class="table table-striped table-bordered" '+
'       cellspacing="0" width="100%" data-placement="top" '+
'       title="Scroll left or right to see more information."><thead><tr>'+
'       </tr></thead></table>';$tableDiv.empty();$tableDiv.append($table);$.each(json.columns,function(i,val){$('#displayTable thead tr').append("<th>"+val[0].toUpperCase()+val.slice(1)+"</th>")});$('#displayTable thead tr').append("<th>Buy Now</th>");let data=[];$.each(JSON.parse(json.data),function(i,val){data.push([]);$.each(json.columns,function(j,col){if(col==='retail')data[i].push(`<i class="fa fa-dollar"></i><b>${val[col]}</b>`);else data[i].push(`<b>${val[col]}</b>`);});let button='<button class="btn btn-primary text-center" style="width: 100%;" onclick="buyNow('+val.id+')">'+
'<i class="fa fa-shopping-cart" style="font-size:24px"></i></i></button>';data[i].push(button);});$('table.table').DataTable({responsive:true,processing:true,paging:false,pageLength:-1,scrollX:true,scrollY:400,scrollCollapse:true,data:data});}});}
function buyNow(id){$.ajax({url:"/api/inventory/buy_info",method:"POST",dataType:"JSON",data:JSON.stringify({id:id}),success:function(json,statusCode){if(statusCode==='success'){let buy_info=JSON.parse(json);console.log(buy_info);$('#buyNowTitle').html(buy_info.name);$('#buyNowArea').html(`<div class="container-fluid"><div class="row-fluid text-center"><div class="col-lg-4"><img class="text-center"src='/static/img/${buy_info.path}'></div><div class="col-lg-4"><b class="text-center">${buy_info.description}</b></div><div class="col-lg-4"><i class="fa fa-dollar"></i><b>${buy_info.retail}</b></div></div><div class="row text-center"><div class="text-center">${buy_info.buy_button}</div></div></div>`);$("#buyNowModal").modal("show");}}});}
let btn=$('a#topButton');$(window).scroll(function(){if($(window).scrollTop()>300){btn.addClass('show');}else{btn.removeClass('show');}});btn.on('click',function(e){e.preventDefault();$('html, body').animate({scrollTop:0},'300');});